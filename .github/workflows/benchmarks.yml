name: benchmarks run

on:
  workflow_dispatch:

permissions: read-all

jobs:
  e2e:
    name: End-to-end sign and verify
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@3df4ab11eba7bda6032a0b82a6bb43b11571feac # v4.0.0
      - uses: actions/setup-python@65d7f2d534ac1bc67fcd62888c5f4f3d2cb2b236 # v4.7.1
      - run: |
          set -euo pipefail
          cd model_signing
          sudo apt -y install git git-lfs python3-venv python3-pip
          git lfs install
          bash benchmarks/run.sh https://github.com/login/oauth https://github.com/"$GITHUB_REPOSITORY"/.github/workflows/benchmarks.yml@refs/heads/main
